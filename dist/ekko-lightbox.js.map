{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./ekko-lightbox.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","r","value","n","__esModule","object","property","prototype","hasOwnProperty","p","s","Lightbox","$","NAME","JQUERY_NO_CONFLICT","fn","Default","title","footer","maxWidth","maxHeight","showArrows","wrapping","type","alwaysShowClose","loadingMessage","leftArrow","rightArrow","closeButton","strings","close","fail","doc","document","onShow","onShown","onHide","onHidden","onNavigate","onContentLoaded","$element","config","_this","this","_classCallCheck","_config","extend","_$modalArrows","_galleryIndex","_galleryName","_padding","_border","_titleIsShown","_footerIsShown","_wantedWidth","_wantedHeight","_touchstartX","_touchendX","_startTouchLength","_ZOOM","_modalId","Math","floor","random","_$element","jQuery","h4","btn","dialog","body","append","_$modal","_$modalDialog","find","first","_$modalContent","_$modalBody","_$modalHeader","_$modalFooter","_$lightboxContainer","_$lightboxBodyOne","_$lightboxBodyTwo","_calculateBorders","_calculatePadding","data","_$galleryItems","index","on","_navigationalBinder","bind","length","event","preventDefault","navigateLeft","navigateRight","updateNavigation","_toggleLoading","_handle","off","window","remove","modal","_resize","console","log","touches","changedTouches","screenX","resizeHandler","_swipeGesture","_createClass","key","visualViewport","scale","navigateTo","$nav","addClass","removeClass","keyCode","src","_isImage","_getYoutubeId","_getVimeoId","_getInstagramId","_isMedia","indexOf","ajax","url","async","getResponseHeader","string","match","_this2","$toUse","$current","hasClass","setTimeout","empty","_containerToUse","_updateTitleAndFooter","currentRemote","attr","currentType","_detectRemoteType","_error","_preloadImage","_preloadImageByIndex","_showYoutubeVideo","_showVimeoVideo","_showInstagramVideo","_showHtml5Media","_loadRemoteContent","matches","show","css","top","_totalCssByAttribute","right","bottom","left","attribute","parseInt","caption","html","remote","$containerForElement","id","query","substr","width","height","_showVideoIframe","contentType","_getRemoteContentType","mediaType","_this3","disableExternalCheck","_isExternal","load","proxy","trigger","toLowerCase","location","protocol","replace","RegExp","http:","https:","host","message","error","startIndex","numberOfTimes","next","$containerForImage","_this4","img","Image","loadingTimeout","onload","clearTimeout","image","onerror","imageAspecRatio","widthBorderAndPadding","addMargin","clientWidth","discountMargin","min","headerHeight","footerHeight","outerHeight","borderPadding","margins","parseFloat","ceil","_handleUpdate","Exception","handleUpdate","_this5","each","$this","_typeof","_jQueryInterface","Constructor","noConflict"],"mappings":"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","file":"ekko-lightbox.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 3);\n","const Lightbox = (($) => {\n\n    const NAME = 'ekkoLightbox'\n    const JQUERY_NO_CONFLICT = $.fn[NAME]\n\n    const Default = {\n        title: '',\n        footer: '',\n        maxWidth: 9999,\n        maxHeight: 9999,\n        showArrows: true, //display the left / right arrows or not\n        wrapping: true, //if true, gallery loops infinitely\n        type: null, //force the lightbox into image / youtube mode. if null, or not image|youtube|vimeo; detect it\n        alwaysShowClose: false, //always show the close button, even if there is no title\n        loadingMessage: '<div class=\"ekko-lightbox-loader\"><div><div></div><div></div></div></div>', // http://tobiasahlin.com/spinkit/\n        leftArrow: '<span>&#10094;</span>',\n        rightArrow: '<span>&#10095;</span>',\n        closeButton: '<span aria-hidden=\"true\">&times;</span>',\n        strings: {\n            close: 'Close',\n            fail: 'Failed to load image:',\n            type: 'Could not detect remote target type. Force the type using data-type',\n        },\n        doc: document, // if in an iframe can specify top.document\n        onShow() {},\n        onShown() {},\n        onHide() {},\n        onHidden() {},\n        onNavigate() {},\n        onContentLoaded() {}\n    }\n\n    class Lightbox {\n\n        /**\n\n        Class properties:\n\n         _$element: null -> the <a> element currently being displayed\n         _$modal: The bootstrap modal generated\n            _$modalDialog: The .modal-dialog\n            _$modalContent: The .modal-content\n            _$modalBody: The .modal-body\n            _$modalHeader: The .modal-header\n            _$modalFooter: The .modal-footer\n         _$lightboxContainerOne: Container of the first lightbox element\n         _$lightboxContainerTwo: Container of the second lightbox element\n         _$lightboxBody: First element in the container\n         _$modalArrows: The overlayed arrows container\n\n         _$galleryItems: Other <a>'s available for this gallery\n         _galleryName: Name of the current data('gallery') showing\n         _galleryIndex: The current index of the _$galleryItems being shown\n\n         _config: {} the options for the modal\n         _modalId: unique id for the current lightbox\n         _padding / _border: CSS properties for the modal container; these are used to calculate the available space for the content\n\n         */\n\n        static get Default() {\n            return Default\n        }\n\n        constructor($element, config) {\n            this._config = $.extend({}, Default, config)\n            this._$modalArrows = null\n            this._galleryIndex = 0\n            this._galleryName = null\n            this._padding = null\n            this._border = null\n            this._titleIsShown = false\n            this._footerIsShown = false\n            this._wantedWidth = 0\n            this._wantedHeight = 0\n            this._touchstartX = 0\n            this._touchendX = 0\n            this._startTouchLength = 0\n            this._ZOOM = 1;\n\n            this._modalId = `ekkoLightbox-${Math.floor((Math.random() * 1000) + 1)}`;\n            this._$element = $element instanceof jQuery ? $element : $($element)\n\n            let h4 = `<h4 class=\"modal-title\">${this._config.title || \"&nbsp;\"}</h4>`;\n            let btn = `<button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"${this._config.strings.close}\">${this._config.closeButton}</button>`;\n\n            let header = `<div class=\"modal-header${this._config.title || this._config.alwaysShowClose ? '' : ' hide'}\">`+(this._config.title ? h4+btn : btn)+`</div>`;\n            let footer = `<div class=\"modal-footer${this._config.footer ? '' : ' hide'}\">${this._config.footer || \"&nbsp;\"}</div>`;\n            let body = '<div class=\"modal-body\"><div class=\"ekko-lightbox-container\"><div class=\"ekko-lightbox-item fade in show\"></div><div class=\"ekko-lightbox-item fade\"></div></div></div>'\n            let dialog = `<div class=\"modal-dialog\" role=\"document\"><div class=\"modal-content\">${header}${body}${footer}</div></div>`\n            $(this._config.doc.body).append(`<div id=\"${this._modalId}\" class=\"ekko-lightbox modal fade\" tabindex=\"-1\" tabindex=\"-1\" role=\"dialog\" aria-hidden=\"true\">${dialog}</div>`)\n\n            this._$modal = $(`#${this._modalId}`, this._config.doc)\n            this._$modalDialog = this._$modal.find('.modal-dialog').first()\n            this._$modalContent = this._$modal.find('.modal-content').first()\n            this._$modalBody = this._$modal.find('.modal-body').first()\n            this._$modalHeader = this._$modal.find('.modal-header').first()\n            this._$modalFooter = this._$modal.find('.modal-footer').first()\n\n            this._$lightboxContainer = this._$modalBody.find('.ekko-lightbox-container').first()\n            this._$lightboxBodyOne = this._$lightboxContainer.find('> div:first-child').first()\n            this._$lightboxBodyTwo = this._$lightboxContainer.find('> div:last-child').first()\n\n            this._border = this._calculateBorders()\n            this._padding = this._calculatePadding()\n\n            this._galleryName = this._$element.data('gallery')\n            if (this._galleryName) {\n                this._$galleryItems = $(document.body).find(`*[data-gallery=\"${this._galleryName}\"]`)\n                this._galleryIndex = this._$galleryItems.index(this._$element)\n                $(document).on('keydown.ekkoLightbox', this._navigationalBinder.bind(this))\n\n                // add the directional arrows to the modal\n                if (this._config.showArrows && this._$galleryItems.length > 1) {\n                    this._$lightboxContainer.append(`<div class=\"ekko-lightbox-nav-overlay\"><a href=\"#\">${this._config.leftArrow}</a><a href=\"#\">${this._config.rightArrow}</a></div>`)\n                    this._$modalArrows = this._$lightboxContainer.find('div.ekko-lightbox-nav-overlay').first()\n                    this._$lightboxContainer.on('click', 'a:first-child', event => {\n                        event.preventDefault()\n                        return this.navigateLeft()\n                    })\n                    this._$lightboxContainer.on('click', 'a:last-child', event => {\n                        event.preventDefault()\n                        return this.navigateRight()\n                    })\n                    this.updateNavigation()\n                }\n            }\n\n            this._$modal\n            .on('show.bs.modal', this._config.onShow.bind(this))\n            .on('shown.bs.modal', () => {\n                this._toggleLoading(true)\n                this._handle()\n                return this._config.onShown.call(this)\n            })\n            .on('hide.bs.modal', this._config.onHide.bind(this))\n            .on('hidden.bs.modal', () => {\n                if (this._galleryName) {\n                    $(document).off('keydown.ekkoLightbox')\n                    $(window).off('resize.ekkoLightbox')\n                }\n                this._$modal.remove()\n                return this._config.onHidden.call(this)\n            })\n            .modal(this._config)\n\n            $(window).on('resize.ekkoLightbox', () => {\n                this._resize(this._wantedWidth, this._wantedHeight)\n            })\n            this._$lightboxContainer\n            .on('touchstart', (event) => {\n                console.log('start'+event.touches.length)\n                this._startTouchLength = event.touches.length;\n                this._touchstartX = event.changedTouches[0].screenX;\n            })\n            .on('touchend', (event) => {\n                this._touchendX = event.changedTouches[0].screenX;\n                console.log('end'+event.touches.length)\n                console.log('zoom'+this.resizeHandler())\n                if (this._startTouchLength < 2 && this.resizeHandler() == 1) {\n                    this._swipeGesture();\n                } else {\n                    return\n                }\n            })\n        }\n\n        resizeHandler() {\n            var viewport = window.visualViewport;\n            return viewport.scale;\n        }\n\n        element() {\n            return this._$element;\n        }\n\n        modal() {\n            return this._$modal;\n        }\n\n        navigateTo(index) {\n\n            if (index < 0 || index > this._$galleryItems.length-1)\n                return this\n\n            this._galleryIndex = index\n\n            this.updateNavigation()\n\n            this._$element = $(this._$galleryItems.get(this._galleryIndex))\n            this._handle();\n        }\n\n        navigateLeft() {\n\n            if(!this._$galleryItems)\n                return;\n\n            if (this._$galleryItems.length === 1)\n                return\n\n            if (this._galleryIndex === 0) {\n                if (this._config.wrapping)\n                    this._galleryIndex = this._$galleryItems.length - 1\n                else\n                    return\n            }\n            else //circular\n                this._galleryIndex--\n\n            this._config.onNavigate.call(this, 'left', this._galleryIndex)\n            return this.navigateTo(this._galleryIndex)\n        }\n\n        navigateRight() {\n\n            if(!this._$galleryItems)\n                return;\n\n            if (this._$galleryItems.length === 1)\n                return\n\n            if (this._galleryIndex === this._$galleryItems.length - 1) {\n                if (this._config.wrapping)\n                    this._galleryIndex = 0\n                else\n                    return\n            }\n            else //circular\n                this._galleryIndex++\n\n            this._config.onNavigate.call(this, 'right', this._galleryIndex)\n            return this.navigateTo(this._galleryIndex)\n        }\n\n        updateNavigation() {\n            if (!this._config.wrapping) {\n                let $nav = this._$lightboxContainer.find('div.ekko-lightbox-nav-overlay')\n                if (this._galleryIndex === 0)\n                    $nav.find('a:first-child').addClass('disabled')\n                else\n                    $nav.find('a:first-child').removeClass('disabled')\n\n                if (this._galleryIndex === this._$galleryItems.length - 1)\n                    $nav.find('a:last-child').addClass('disabled')\n                else\n                    $nav.find('a:last-child').removeClass('disabled')\n            }\n        }\n\n        close() {\n            return this._$modal.modal('hide');\n        }\n\n        // helper private methods\n        _navigationalBinder(event) {\n            event = event || window.event;\n            if (event.keyCode === 39)\n                return this.navigateRight()\n            if (event.keyCode === 37)\n                return this.navigateLeft()\n        }\n\n        // type detection private methods\n        _detectRemoteType(src, type) {\n\n            type = type || false;\n\n            if(!type && this._isImage(src))\n                type = 'image';\n            if(!type && this._getYoutubeId(src))\n                type = 'youtube';\n            if(!type && this._getVimeoId(src))\n                type = 'vimeo';\n            if(!type && this._getInstagramId(src))\n                type = 'instagram';\n            if(type == 'audio' || type == 'video' || (!type && this._isMedia(src)))\n                type = 'media';\n            if(!type || ['image', 'youtube', 'vimeo', 'instagram', 'media', 'url'].indexOf(type) < 0)\n                type = 'url';\n\n            return type;\n        }\n\n        _getRemoteContentType(src) {\n            let response = $.ajax({\n                type: 'HEAD',\n                url: src,\n                async: false\n            });\n            let contentType = response.getResponseHeader('Content-Type')\n            return contentType;\n        }\n\n        _isImage(string) {\n            return string && string.match(/(^data:image\\/.*,)|(\\.(jp(e|g|eg)|gif|png|bmp|webp|svg)((\\?|#).*)?$)/i)\n        }\n\n        _isMedia(string) {\n            return string && string.match(/(\\.(mp3|mp4|ogg|webm|wav)((\\?|#).*)?$)/i)\n        }\n\n        _containerToUse() {\n            // if currently showing an image, fade it out and remove\n            let $toUse = this._$lightboxBodyTwo\n            let $current = this._$lightboxBodyOne\n\n            if(this._$lightboxBodyTwo.hasClass('in')) {\n                $toUse = this._$lightboxBodyOne\n                $current = this._$lightboxBodyTwo\n            }\n\n            $current.removeClass('in show')\n            setTimeout(() => {\n                if(!this._$lightboxBodyTwo.hasClass('in'))\n                    this._$lightboxBodyTwo.empty()\n                if(!this._$lightboxBodyOne.hasClass('in'))\n                    this._$lightboxBodyOne.empty()\n            }, 500)\n\n            $toUse.addClass('in show')\n            return $toUse\n        }\n\n        _handle() {\n\n            let $toUse = this._containerToUse()\n            this._updateTitleAndFooter()\n\n            let currentRemote = this._$element.attr('data-remote') || this._$element.attr('href')\n            let currentType = this._detectRemoteType(currentRemote, this._$element.attr('data-type') || false)\n\n            if(['image', 'youtube', 'vimeo', 'instagram', 'media', 'url'].indexOf(currentType) < 0)\n                return this._error(this._config.strings.type)\n\n            switch(currentType) {\n                case 'image':\n                    this._preloadImage(currentRemote, $toUse)\n                    this._preloadImageByIndex(this._galleryIndex, 3)\n                    break;\n                case 'youtube':\n                    this._showYoutubeVideo(currentRemote, $toUse);\n                    break;\n                case 'vimeo':\n                    this._showVimeoVideo(this._getVimeoId(currentRemote), $toUse);\n                    break;\n                case 'instagram':\n                    this._showInstagramVideo(this._getInstagramId(currentRemote), $toUse);\n                    break;\n                case 'media':\n                    this._showHtml5Media(currentRemote, $toUse);\n                    break;\n                default: // url\n                    this._loadRemoteContent(currentRemote, $toUse);\n                    break;\n            }\n\n            return this;\n        }\n\n        _getYoutubeId(string) {\n            if(!string)\n                return false;\n            let matches = string.match(/^.*(youtu.be\\/|v\\/|u\\/\\w\\/|embed\\/|watch\\?v=|\\&v=)([^#\\&\\?]*).*/)\n            return (matches && matches[2].length === 11) ? matches[2] : false\n        }\n\n        _getVimeoId(string) {\n            return string && string.indexOf('vimeo') > 0 ? string : false\n        }\n\n        _getInstagramId(string) {\n            return string && string.indexOf('instagram') > 0 ? string : false\n        }\n\n        // layout private methods\n        _toggleLoading(show) {\n            show = show || false\n            if(show) {\n                this._$modalDialog.css('display', 'none')\n                this._$modal.removeClass('in show')\n                $('.modal-backdrop').append(this._config.loadingMessage)\n            }\n            else {\n                this._$modalDialog.css('display', 'block')\n                this._$modal.addClass('in show')\n                $('.modal-backdrop').find('.ekko-lightbox-loader').remove()\n            }\n            return this;\n        }\n\n        _calculateBorders() {\n            return {\n                top: this._totalCssByAttribute('border-top-width'),\n                right: this._totalCssByAttribute('border-right-width'),\n                bottom: this._totalCssByAttribute('border-bottom-width'),\n                left: this._totalCssByAttribute('border-left-width'),\n            }\n        }\n\n        _calculatePadding() {\n            return {\n                top: this._totalCssByAttribute('padding-top'),\n                right: this._totalCssByAttribute('padding-right'),\n                bottom: this._totalCssByAttribute('padding-bottom'),\n                left: this._totalCssByAttribute('padding-left'),\n            }\n        }\n\n        _totalCssByAttribute(attribute) {\n            return parseInt(this._$modalDialog.css(attribute), 10) +\n                parseInt(this._$modalContent.css(attribute), 10) +\n                parseInt(this._$modalBody.css(attribute), 10)\n        }\n\n        _updateTitleAndFooter() {\n            let title = this._$element.data('title') || \"\"\n            let caption = this._$element.data('footer') || \"\"\n\n            this._titleIsShown = false\n            if (title || this._config.alwaysShowClose) {\n                this._titleIsShown = true\n                this._$modalHeader.css('display', '').find('.modal-title').html(title || \"&nbsp;\")\n            }\n            else\n                this._$modalHeader.css('display', 'none')\n\n            this._footerIsShown = false\n            if (caption) {\n                this._footerIsShown = true\n                this._$modalFooter.css('display', '').html(caption)\n            }\n            else\n                this._$modalFooter.css('display', 'none')\n\n            return this;\n        }\n\n        _showYoutubeVideo(remote, $containerForElement) {\n            let id = this._getYoutubeId(remote)\n            let query = remote.indexOf('&') > 0 ? remote.substr(remote.indexOf('&')) : ''\n            let width = this._$element.data('width') || 560\n            let height = this._$element.data('height') ||  width / ( 560/315 )\n            return this._showVideoIframe(\n                `//www.youtube.com/embed/${id}?badge=0&autoplay=1&html5=1${query}`,\n                width,\n                height,\n                $containerForElement\n            );\n        }\n\n        _showVimeoVideo(id, $containerForElement) {\n            let width = this._$element.data('width') || 500\n            let height = this._$element.data('height') ||  width / ( 560/315 )\n            return this._showVideoIframe(id + '?autoplay=1', width, height, $containerForElement)\n        }\n\n        _showInstagramVideo(id, $containerForElement) {\n            // instagram load their content into iframe's so this can be put straight into the element\n            let width = this._$element.data('width') || 612\n            let height = width + 80;\n            id = id.substr(-1) !== '/' ? id + '/' : id; // ensure id has trailing slash\n            $containerForElement.html(`<iframe width=\"${width}\" height=\"${height}\" src=\"${id}embed/\" frameborder=\"0\" allowfullscreen></iframe>`);\n            this._resize(width, height);\n            this._config.onContentLoaded.call(this);\n            if (this._$modalArrows) //hide the arrows when showing video\n                this._$modalArrows.css('display', 'none');\n            this._toggleLoading(false);\n            return this;\n        }\n\n        _showVideoIframe(url, width, height, $containerForElement) { // should be used for videos only. for remote content use loadRemoteContent (data-type=url)\n            height = height || width; // default to square\n            $containerForElement.html(`<div class=\"embed-responsive embed-responsive-16by9\"><iframe width=\"${width}\" height=\"${height}\" src=\"${url}\" frameborder=\"0\" allowfullscreen class=\"embed-responsive-item\"></iframe></div>`);\n            this._resize(width, height);\n            this._config.onContentLoaded.call(this);\n            if (this._$modalArrows)\n                this._$modalArrows.css('display', 'none'); //hide the arrows when showing video\n            this._toggleLoading(false);\n            return this;\n        }\n                \n        _showHtml5Media(url, $containerForElement) { // should be used for videos only. for remote content use loadRemoteContent (data-type=url)\n            let contentType = this._getRemoteContentType(url);\n            if(!contentType){\n                return this._error(this._config.strings.type)\n            }\n            let mediaType = '';\n            if(contentType.indexOf('audio') > 0){\n                mediaType = 'audio';\n            }else{\n                mediaType = 'video';\n            }\n            let width = this._$element.data('width') || 560\n            let height = this._$element.data('height') ||  width / ( 560/315 )\n            $containerForElement.html(`<div class=\"embed-responsive embed-responsive-16by9\"><${mediaType} width=\"${width}\" height=\"${height}\" preload=\"auto\" autoplay controls class=\"embed-responsive-item\"><source src=\"${url}\" type=\"${contentType}\">${this._config.strings.type}</${mediaType}></div>`);\n            this._resize(width, height);\n            this._config.onContentLoaded.call(this);\n            if (this._$modalArrows)\n                this._$modalArrows.css('display', 'none'); //hide the arrows when showing video\n            this._toggleLoading(false);\n            return this;\n        }\n\n        _loadRemoteContent(url, $containerForElement) {\n            let width = this._$element.data('width') || 560;\n            let height = this._$element.data('height') || 560;\n\n            let disableExternalCheck = this._$element.data('disableExternalCheck') || false;\n            this._toggleLoading(false);\n\n            // external urls are loading into an iframe\n            // local ajax can be loaded into the container itself\n            if (!disableExternalCheck && !this._isExternal(url)) {\n                $containerForElement.load(url, $.proxy(() => {\n                    return this._$element.trigger('loaded.bs.modal');\n                }));\n\n            } else {\n                $containerForElement.html(`<iframe src=\"${url}\" frameborder=\"0\" allowfullscreen></iframe>`);\n                this._config.onContentLoaded.call(this);\n            }\n\n            if (this._$modalArrows) //hide the arrows when remote content\n                this._$modalArrows.css('display', 'none')\n\n            this._resize(width, height);\n            return this;\n        }\n\n        _isExternal(url) {\n            let match = url.match(/^([^:\\/?#]+:)?(?:\\/\\/([^\\/?#]*))?([^?#]+)?(\\?[^#]*)?(#.*)?/);\n            if (typeof match[1] === \"string\" && match[1].length > 0 && match[1].toLowerCase() !== location.protocol)\n                return true;\n\n            if (typeof match[2] === \"string\" && match[2].length > 0 && match[2].replace(new RegExp(`:(${{\n                    \"http:\": 80,\n                    \"https:\": 443\n                }[location.protocol]})?$`), \"\") !== location.host)\n                return true;\n\n            return false;\n        }\n\n        _error( message ) {\n            console.error(message);\n            this._containerToUse().html(message);\n            this._resize(300, 300);\n            return this;\n        }\n\n        _preloadImageByIndex(startIndex, numberOfTimes) {\n\n            if(!this._$galleryItems)\n                return;\n\n            let next = $(this._$galleryItems.get(startIndex), false)\n            if(typeof next == 'undefined')\n                return\n\n            let src = next.attr('data-remote') || next.attr('href')\n            if (next.attr('data-type') === 'image' || this._isImage(src))\n                this._preloadImage(src, false)\n\n            if(numberOfTimes > 0)\n                return this._preloadImageByIndex(startIndex + 1, numberOfTimes-1);\n        }\n\n        _preloadImage( src, $containerForImage) {\n\n            $containerForImage = $containerForImage || false\n\n            let img = new Image();\n            if ($containerForImage) {\n\n                // if loading takes > 200ms show a loader\n                let loadingTimeout = setTimeout(() => {\n                    $containerForImage.append(this._config.loadingMessage)\n                }, 200)\n\n                img.onload = () => {\n                    if(loadingTimeout)\n                        clearTimeout(loadingTimeout)\n                    loadingTimeout = null;\n                    let image = $('<img />');\n                    image.attr('src', img.src);\n                    image.addClass('img-fluid');\n\n                    // backward compatibility for bootstrap v3\n                    image.css('width', '100%');\n\n                    $containerForImage.html(image);\n                    if (this._$modalArrows)\n                        this._$modalArrows.css('display', '') // remove display to default to css property\n\n                    this._resize(img.width, img.height);\n                    this._toggleLoading(false);\n                    return this._config.onContentLoaded.call(this);\n                };\n                img.onerror = () => {\n                    this._toggleLoading(false);\n                    return this._error(this._config.strings.fail+`  ${src}`);\n                };\n            }\n\n            img.src = src;\n            return img;\n        }\n\n        _swipeGesture() {\n            if (this._touchendX < this._touchstartX) {\n                return this.navigateRight();\n            }\n            if (this._touchendX > this._touchstartX) {\n                return this.navigateLeft();\n            }\n        }\n\n        _resize( width, height ) {\n\n            height = height || width\n            this._wantedWidth = width\n            this._wantedHeight = height\n\n            let imageAspecRatio = width / height;\n\n            // if width > the available space, scale down the expected width and height\n            let widthBorderAndPadding = this._padding.left + this._padding.right + this._border.left + this._border.right\n\n            // force 10px margin if window size > 575px\n            let addMargin = this._config.doc.body.clientWidth > 575 ? 20 : 0\n            let discountMargin = this._config.doc.body.clientWidth > 575 ? 0 : 20\n\n            let maxWidth = Math.min(width + widthBorderAndPadding, this._config.doc.body.clientWidth - addMargin, this._config.maxWidth)\n\n            if((width + widthBorderAndPadding) > maxWidth) {\n                height = (maxWidth - widthBorderAndPadding - discountMargin) / imageAspecRatio;\n                width = maxWidth\n            } else\n                width = (width + widthBorderAndPadding)\n\n            let headerHeight = 0,\n                footerHeight = 0\n\n            // as the resize is performed the modal is show, the calculate might fail\n            // if so, default to the default sizes\n            if (this._footerIsShown)\n                footerHeight = this._$modalFooter.outerHeight(true) || 55\n\n            if (this._titleIsShown)\n                headerHeight = this._$modalHeader.outerHeight(true) || 67\n\n            let borderPadding = this._padding.top + this._padding.bottom + this._border.bottom + this._border.top\n\n            //calculated each time as resizing the window can cause them to change due to Bootstraps fluid margins\n            let margins = parseFloat(this._$modalDialog.css('margin-top')) + parseFloat(this._$modalDialog.css('margin-bottom'));\n\n            let maxHeight = Math.min(height, $(window).height() - borderPadding - margins - headerHeight - footerHeight, this._config.maxHeight - borderPadding - headerHeight - footerHeight);\n\n            if(height > maxHeight) {\n                // if height > the available height, scale down the width\n                width = Math.ceil(maxHeight * imageAspecRatio) + widthBorderAndPadding;\n            }\n\n            this._$lightboxContainer.css('height', maxHeight)\n            this._$modalDialog.css('flex', 1).css('maxWidth', width);\n\n            let modal = this._$modal.data('bs.modal');\n            if (modal) {\n                // v4 method is mistakenly protected\n                try {\n                    modal._handleUpdate();\n                } catch(Exception) {\n                    modal.handleUpdate();\n                }\n            }\n            return this;\n        }\n\n        static _jQueryInterface(config) {\n            config = config || {}\n            return this.each(() => {\n                let $this = $(this)\n                let _config = $.extend(\n                    {},\n                    Lightbox.Default,\n                    $this.data(),\n                    typeof config === 'object' && config\n                )\n\n                new Lightbox(this, _config)\n            })\n        }\n    }\n\n\n\n    $.fn[NAME]             = Lightbox._jQueryInterface\n    $.fn[NAME].Constructor = Lightbox\n    $.fn[NAME].noConflict  = () => {\n        $.fn[NAME] = JQUERY_NO_CONFLICT\n        return Lightbox._jQueryInterface\n    }\n\n    return Lightbox\n\n})(jQuery)\n\nexport default Lightbox\n"],"sourceRoot":""}